(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{120:function(e,t,a){},122:function(e,t,a){},169:function(e,t,a){},170:function(e,t,a){},172:function(e,t,a){"use strict";a.r(t);var r=a(3),n=a(0),c=a.n(n),s=a(19),i=a.n(s),d=a(108),o=a(14),u=a(37),l=(a(120),"CHANGE_DATE"),j="START_GET_DATA",b="REQUEST_DATA",O="REQUEST_DATA_FINISHED",f="SUCCESS_GET_DATA",x="PAUSED",p="CANSEL_PAUSED",h="ERROR_GET_DATA",_="CLEAR_ERROR_DATA",v="CHANGE_COUNT_ROW",y="CHANGE_REFRESH_DATA",m=a(36),g=a.n(m),E=a(181),A=a(180),D=a(107),T=a(182),S=a(177);a(122);function w(){var e=Object(o.c)((function(e){return e.filter.countRowTable})),t=Object(o.b)(),a=function(){t(e!==1/0?{type:v,payload:1/0}:{type:v,payload:10})};return Object(r.jsxs)("div",{className:"header-inputNumber-cont-first",children:[Object(r.jsxs)("div",{style:{display:e===1/0?"none":"block"},children:[Object(r.jsx)("label",{for:"countRowTable",className:"header-inputNumber-cont-first-label",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435"}),Object(r.jsx)(E.a,{min:10,step:10,id:"countRowTable",value:e,onChange:function(e){e&&t({type:v,payload:Number(e)})}})]}),Object(r.jsxs)("div",{className:"chekLimited",children:[e!==1/0&&Object(r.jsx)(A.a,{name:"countRows_zero",value:e,onChange:a,children:Object(r.jsx)("span",{children:"\u041b\u044e\u0431\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"})}),e===1/0&&Object(r.jsx)(D.a,{type:"primary",style:{marginTop:"40px",marginBottom:"40px"},onClick:a,children:Object(r.jsx)("span",{children:"\u0417\u0430\u0434\u0430\u0442\u044c \u043b\u0438\u043c\u0438\u0442 \u0437\u0430\u043f\u0438\u0441\u0435\u0439"})})]})]})}function k(){return Object(r.jsxs)("div",{className:"header-inputNumber-cont",children:[Object(r.jsx)(w,{}),Object(r.jsx)(N,{})]})}function N(){var e=Object(o.c)((function(e){return e.filter.delay_refresh_data})),t=Object(o.b)();return Object(r.jsxs)("div",{className:"header-inputNumber-cont-first",children:[Object(r.jsx)("label",{for:"delay_refresh_data",className:"header-inputNumber-cont-first-label",children:"\u0417\u0430\u0434\u0435\u0440\u0436\u043a\u0430 \u0432\u044b\u0432\u043e\u0434\u0430 \u0432 \u043c\u0438\u043b\u043b\u0435\u0441\u0435\u043a\u0443\u043d\u0434\u0430\u0445"}),Object(r.jsx)(E.a,{min:500,step:100,id:"delay_refresh_data",value:e,onChange:function(e){e&&t({type:y,payload:e})}})]})}function C(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.errors.error_messages}));return Object(r.jsx)(r.Fragment,{children:t.map((function(t,a){return Object(r.jsx)(T.a,{message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0430 \u0434\u0430\u0442\u0443 "+t.date+", \u043a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438: "+t.textError,type:"error",closable:!0,onClose:function(){!function(t){e({type:_,payload:t})}(a)}})}))})}function R(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{style:{textAlign:"center"},children:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0432\u0430\u043b\u044e\u0442 \u0437\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434\u0438\u043a\u0438."}),Object(r.jsx)(U,{}),Object(r.jsx)(k,{}),Object(r.jsx)(C,{}),Object(r.jsx)(F,{})]})}function U(){var e=Object(o.c)((function(e){return e.filter.start})),t=Object(o.c)((function(e){return e.filter.end})),a=Object(o.c)((function(e){return e.data.loading})),n=Object(o.b)();return Object(r.jsxs)("div",{className:"header-dates-cont",children:[Object(r.jsx)("label",{for:"start",className:"header-dates-cont-label",children:"\u041d\u0430\u0447\u0430\u043b\u043e"}),Object(r.jsx)(S.a,{disabled:a,placeholder:"\u041d\u0430\u0447\u0430\u043b\u043e",id:"start",format:"DD-MM-YYYY",style:{widthMax:"20%"},value:""===e?"":g()(e),onChange:function(e,t){n({type:l,payload:{id_period:"start",value:null===e?"":e._d}})}}),Object(r.jsx)("label",{for:"start",className:"header-dates-cont-label",style:{marginLeft:"20px"},children:"\u041a\u043e\u043d\u0435\u0446"}),Object(r.jsx)(S.a,{disabled:a,placeholder:"\u041a\u043e\u043d\u0435\u0446",id:"end",format:"DD-MM-YYYY",style:{widthMax:"20%"},value:""===t?"":g()(t),onChange:function(e,t){n({type:l,payload:{id_period:"end",value:null===e?"":e._d}})}})]})}function F(){var e=Object(o.c)((function(e){return e.filter.start})),t=Object(o.c)((function(e){return e.filter.end})),a=Object(o.c)((function(e){return e.data.loading})),n=Object(o.c)((function(e){return e.flow_control.paused})),c=Object(o.c)((function(e){return e.data.requestData})),s=Object(o.b)();return Object(r.jsx)("div",{className:"header-buttons-cont",children:Object(r.jsxs)(D.a,{type:"primary",style:{marginTop:"40px",marginBottom:"40px"},onClick:function(){""!==e&&""!==t&&(a||n?a&&!n?s({type:x}):a&&n&&s({type:p}):s({type:j,payload:{start:e,end:t}}))},disabled:""===e||""===t||!c,children:[!a&&!n&&"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435... ",a&&!n&&"\u041f\u0440\u0438\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c... ",a&&n&&"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c... "]})})}a(169);var I={width:"30%"};function G(){return Object(r.jsxs)("div",{className:"row-table row-table-header",children:[Object(r.jsx)("div",{children:" \u0414\u0430\u0442\u0430 "}),Object(r.jsx)("div",{children:" \u2116 \u043f/\u043f"}),Object(r.jsx)("div",{children:" ID "}),Object(r.jsx)("div",{children:" \u041a\u043e\u0434 "}),Object(r.jsx)("div",{children:" \u041a\u043e\u0434(\u0441\u0438\u043c\u0432) "}),Object(r.jsx)("div",{children:" \u041d\u043e\u043c\u0438\u043d\u0430\u043b "}),Object(r.jsx)("div",{style:I,children:" \u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 "}),Object(r.jsx)("div",{children:" \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 "}),Object(r.jsx)("div",{children:" \u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0435 "})]})}var H={width:"30%",textAlign:"left"};function Y(e){var t=e.index,a=Object(o.c)((function(e){return Object.keys(e.data.data_obj).length}));return Object(r.jsxs)(r.Fragment,{children:[" ",a-t]})}function M(e){var t=e.id_obj,a=e.index,n=Object(o.c)((function(e){return e.data.data_obj[t]}));if(void 0===n)return null;console.log(n);var c=n.ID,s=n.NumCode,i=n.CharCode,d=n.Nominal,u=n.Name,l=n.Value,j=n.Previous,b=n.start;return Object(r.jsxs)("div",{className:"row-table animation",children:[Object(r.jsxs)("div",{children:[" ",b.toLocaleDateString()," "]}),Object(r.jsxs)("div",{children:[" ",Object(r.jsx)(Y,{index:a})]}),Object(r.jsxs)("div",{children:[" ",c," "]}),Object(r.jsxs)("div",{children:[" ",s," "]}),Object(r.jsxs)("div",{children:[" ",i," "]}),Object(r.jsxs)("div",{children:[" ",d," "]}),Object(r.jsx)("div",{style:H,children:u}),Object(r.jsxs)("div",{children:[" ",l," "]}),Object(r.jsxs)("div",{children:[" ",j," "]})]})}var Q=c.a.memo(M);var L=function(){var e=Object(o.c)((function(e){return e.data.data_arr}));return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(G,{}),Object(r.jsx)("div",{className:"table-data-main",style:{overflow:"auto",width:"100%",height:"400px"},children:Object(r.jsx)("div",{className:"table-data-data",children:e.map((function(e,t){return Object(r.jsxs)(c.a.Fragment,{children:[" ",Object(r.jsx)(Q,{id_obj:e,index:t})]})}))})})]})};a(170);function V(){return Object(r.jsxs)(c.a.Fragment,{children:[Object(r.jsx)(R,{}),Object(r.jsx)("div",{className:"data_modeling_cont",children:Object(r.jsx)(L,{})})]})}var q=function(){return Object(r.jsx)(c.a.Fragment,{children:Object(r.jsx)(V,{})})},P=a(56),B=a(12),J={data_arr:[],data_obj:{},requestData:!0,loading:!1},z={paused:!1},W=a(70),K={start:new Date(2020,7,1),end:new Date(2020,7,2)},X={start:K.end,end:K.end,countRowTable:10,delay_refresh_data:1e3},Z={error_messages:[]},$=Object(u.c)({data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(B.a)(Object(B.a)({},e),{},{loading:!0,requestData:!0});case b:return Object(B.a)(Object(B.a)({},e),{},{requestData:!1});case O:return Object(B.a)(Object(B.a)({},e),{},{requestData:!0});case f:return t.payload.data_arr.length&&e.data_arr.push(t.payload.data_arr[0]),Object(B.a)(Object(B.a)({},e),{},{loading:t.payload.loading,data_arr:Object(P.a)(e.data_arr),data_obj:Object(B.a)(Object(B.a)({},e.data_obj),t.payload.data_obj)});default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case l:return Object(B.a)(Object(B.a)({},e),{},Object(W.a)({},t.payload.id_period,t.payload.value));case v:return Object(B.a)(Object(B.a)({},e),{},{countRowTable:t.payload});case y:return Object(B.a)(Object(B.a)({},e),{},{delay_refresh_data:t.payload});default:return e}},flow_control:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(B.a)(Object(B.a)({},e),{},{paused:!0});case p:return Object(B.a)(Object(B.a)({},e),{},{paused:!1});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(B.a)(Object(B.a)({},e),{},{error_messages:[].concat(Object(P.a)(e.error_messages),[t.payload])});case _:return e.error_messages.splice(t.payload,1),Object(B.a)(Object(B.a)({},e),{},{error_messages:Object(P.a)(e.error_messages)});default:return e}}}),ee=(a(171),a(33)),te=a.n(ee),ae=a(105),re=a(13),ne=a(178),ce=te.a.mark(le),se=te.a.mark(je),ie=te.a.mark(be);function de(e,t,a){return oe.apply(this,arguments)}function oe(){return(oe=Object(ae.a)(te.a.mark((function e(t,a,r){var n,c,s,i,d;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=String(a),r=String(r),n={},e.prev=3,e.next=6,fetch("https://www.cbr-xml-daily.ru/archive/".concat(t,"/").concat(a.padStart(2,"0"),"/").concat(r.padStart(2,"0"),"/daily_json.js"));case 6:return c=e.sent,e.next=9,c.json();case 9:n=e.sent,s=Object.values(n.Valute).sort((function(e,t){if(e.Name>t.Name)return-1})),i={},s.forEach((function(e){i[e.CharCode]=e})),n.Valute=i,e.next=20;break;case 16:e.prev=16,e.t0=e.catch(3),d=String(r).padStart(2,"0")+"."+String(a).padStart(2,"0")+"."+String(t).padStart(4,"0"),n.error_message={date:d,textError:e.t0};case 20:return e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,null,[[3,16]])})))).apply(this,arguments)}function ue(e,t){var a={};return a[Object(ne.a)()]=e,{data_arr:Object.keys(a),data_obj:a,loading:t}}function le(){var e,t,a,r,n;return te.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(re.e)((function(e){return e.filter}));case 2:return e=c.sent,t=e.start,a=e.end,t=new Date(+t),a=new Date(+a),c.next=9,Object(re.d)({type:"REQUEST_DATA"});case 9:r=te.a.mark((function e(){var r,n,c,s,i,d,o,u;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(re.e)((function(e){return e.data.data_arr.length}));case 2:return r=e.sent,e.next=5,Object(re.e)((function(e){return e.filter.countRowTable}));case 5:return n=e.sent,e.next=8,Object(re.e)((function(e){return e.filter.delay_refresh_data}));case 8:return c=e.sent,e.next=11,Object(re.c)(c);case 11:if(!(r>n)){e.next=17;break}return e.next=14,Object(re.d)({type:"REQUEST_DATA_FINISHED"});case 14:return e.next=16,Object(re.d)({type:"SUCCESS_GET_DATA",payload:{data_arr:[],data_obj:{},loading:!1}});case 16:return e.abrupt("return","break");case 17:return e.next=19,Object(re.b)(de,t.getFullYear(),t.getMonth()+1,t.getDate());case 19:if(!(s=e.sent).error_message){e.next=25;break}return e.next=23,Object(re.d)({type:"ERROR_GET_DATA",payload:s.error_message});case 23:return t.setDate(t.getDate()+1),e.abrupt("return","continue");case 25:if(!(Object.keys(s.Valute).length>0)){e.next=64;break}i={},Object.keys(s.Valute).forEach((function(e){i[e]=s.Valute[e],i[e].start=new Date(+t)})),d=0,o=Object.keys(i).length,e.t0=te.a.keys(i);case 31:if((e.t1=e.t0()).done){e.next=62;break}return u=e.t1.value,d+=1,e.next=36,Object(re.e)((function(e){return e.filter.countRowTable}));case 36:if(n=e.sent,!(r+d>n)){e.next=44;break}if(1!==d){e.next=41;break}return e.next=41,Object(re.d)({type:"REQUEST_DATA_FINISHED"});case 41:return e.next=43,Object(re.d)({type:"SUCCESS_GET_DATA",payload:{data_arr:[],data_obj:{},loading:!1}});case 43:return e.abrupt("break",62);case 44:return e.next=46,Object(re.e)((function(e){return e.filter.delay_refresh_data}));case 46:return c=e.sent,e.next=49,Object(re.c)(c);case 49:return e.next=51,Object(re.e)((function(e){return e.flow_control.paused}));case 51:if(!e.sent){e.next=55;break}return e.next=55,Object(re.f)("CANSEL_PAUSED");case 55:return e.next=57,Object(re.d)({type:"SUCCESS_GET_DATA",payload:ue(i[u],+t!==+a||d!==o)});case 57:if(1!==d){e.next=60;break}return e.next=60,Object(re.d)({type:"REQUEST_DATA_FINISHED"});case 60:e.next=31;break;case 62:e.next=64;break;case 64:t.setDate(t.getDate()+1);case 65:case"end":return e.stop()}}),e)}));case 10:if(!(t<=a)){c.next=19;break}return c.delegateYield(r(),"t0",12);case 12:if("break"!==(n=c.t0)){c.next=15;break}return c.abrupt("break",19);case 15:if("continue"!==n){c.next=17;break}return c.abrupt("continue",10);case 17:c.next=10;break;case 19:return c.next=21,Object(re.e)((function(e){return e.data.loading}));case 21:if(!c.sent){c.next=27;break}return c.next=25,Object(re.d)({type:"REQUEST_DATA_FINISHED"});case 25:return c.next=27,Object(re.d)({type:"SUCCESS_GET_DATA",payload:{data_arr:[],data_obj:{},loading:!1}});case 27:case"end":return c.stop()}}),ce)}function je(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(re.g)("START_GET_DATA",le);case 2:case"end":return e.stop()}}),se)}function be(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(re.a)([je()]);case 2:case"end":return e.stop()}}),ie)}var Oe=be,fe=Object(d.a)(Oe),xe=document.getElementById("root"),pe=Object(u.e)($,Object(u.a)(fe));fe.run(Oe),i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(o.a,{store:pe,children:Object(r.jsx)(q,{})})}),xe),console.log("Hellow1")}},[[172,1,2]]]);
//# sourceMappingURL=main.760d7ba7.chunk.js.map